<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>{{ title|default:"Appointment Booking" }}</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <style>
       .appointment-form {
           max-width: 600px;
           margin: 2rem auto;
           padding: 2rem;
           box-shadow: 0 0 10px rgba(0,0,0,0.1);
           border-radius: 10px;
       }
       .form-header {
           text-align: center;
           margin-bottom: 2rem;
           color: #333;
       }
   </style>
</head>
<body>
   <div class="container">
       <div class="appointment-form">
           <h2 class="form-header">{{ title|default:"Book an Appointment" }}</h2>

           {% if messages %}
               {% for message in messages %}
                   <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                       {{ message }}
                       <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                   </div>
               {% endfor %}
           {% endif %}

           <form method="post">
               {% csrf_token %}
               {% load widget_tweaks %}

               <div class="mb-3">
                   <label for="{{ form.first_name.id_for_label }}" class="form-label">First Name *</label>
                   {{ form.first_name|add_class:"form-control" }}
                   {% if form.first_name.errors %}
                       <div class="text-danger small">{{ form.first_name.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.last_name.id_for_label }}" class="form-label">Last Name *</label>
                   {{ form.last_name|add_class:"form-control" }}
                   {% if form.last_name.errors %}
                       <div class="text-danger small">{{ form.last_name.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.email.id_for_label }}" class="form-label">Email *</label>
                   {{ form.email|add_class:"form-control" }}
                   {% if form.email.errors %}
                       <div class="text-danger small">{{ form.email.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.phone.id_for_label }}" class="form-label">Phone *</label>
                   {{ form.phone|add_class:"form-control" }}
                   {% if form.phone.errors %}
                       <div class="text-danger small">{{ form.phone.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.appointment_date.id_for_label }}" class="form-label">Preferred Date *</label>
                   {{ form.appointment_date|add_class:"form-control" }}
                   {% if form.appointment_date.errors %}
                       <div class="text-danger small">{{ form.appointment_date.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.appointment_time.id_for_label }}" class="form-label">Preferred Time *</label>
                   {{ form.appointment_time|add_class:"form-control" }}
                   {% if form.appointment_time.errors %}
                       <div class="text-danger small">{{ form.appointment_time.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.service_type.id_for_label }}" class="form-label">Service Type *</label>
                   {{ form.service_type|add_class:"form-control" }}
                   {% if form.service_type.errors %}
                       <div class="text-danger small">{{ form.service_type.errors.0 }}</div>
                   {% endif %}
               </div>

               <div class="mb-3">
                   <label for="{{ form.notes.id_for_label }}" class="form-label">Additional Notes</label>
                   {{ form.notes|add_class:"form-control" }}
                   {% if form.notes.errors %}
                       <div class="text-danger small">{{ form.notes.errors.0 }}</div>
                   {% endif %}
               </div>

               <button type="submit" class="btn btn-primary">Book Appointment</button>
           </form>
       </div>
   </div>

   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>